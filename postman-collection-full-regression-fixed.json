{
  "info": {
    "name": "BTC Stamps Explorer API - Full Regression Testing",
    "description": "Complete API testing suite covering all 46 endpoints with dual endpoint comparison and regression detection",
    "version": "4.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "comparison_results",
      "value": "[]",
      "type": "any"
    },
    {
      "key": "test_session_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "test_stamp_id",
      "value": "1135630",
      "type": "string"
    },
    {
      "key": "test_cpid",
      "value": "A4399874976698242000",
      "type": "string"
    },
    {
      "key": "test_address",
      "value": "bc1qzxszplp8v7w0jc89dlrqyct9staqlhwxzy7lkq",
      "type": "string"
    },
    {
      "key": "test_block",
      "value": "903108",
      "type": "string"
    },
    {
      "key": "test_tx_hash",
      "value": "106c17f61644e3f9952513e42911ffe78316a4b02d2a288fab8622bcfba3f064",
      "type": "string"
    },
    {
      "key": "test_src20_tick",
      "value": "STAMP",
      "type": "string"
    },
    {
      "key": "test_src20_tick_invalid",
      "value": "TOOLONG",
      "type": "string"
    },
    {
      "key": "test_cursed_id",
      "value": "-1",
      "type": "string"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Initialize test session",
          "if (!pm.collectionVariables.get('test_session_id')) {",
          "    const sessionId = 'test_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);",
          "    pm.collectionVariables.set('test_session_id', sessionId);",
          "    console.log('ðŸš€ Starting regression test session:', sessionId);",
          "}",
          "",
          "// Initialize comparison results",
          "if (!pm.collectionVariables.get('comparison_results')) {",
          "    pm.collectionVariables.set('comparison_results', JSON.stringify([]));",
          "}",
          "",
          "// Log request details",
          "console.log('ðŸ“¤ Request:', {",
          "    method: pm.request.method,",
          "    url: pm.request.url.toString()",
          "});"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Common test validations",
          "pm.test('Response status is valid', () => {",
          "    pm.expect(pm.response.code).to.be.oneOf([200, 201, 400, 404]);",
          "});",
          "",
          "pm.test('Response time is acceptable', () => {",
          "    pm.expect(pm.response.responseTime).to.be.below(10000);",
          "});",
          "",
          "pm.test('Response has valid JSON', () => {",
          "    pm.response.to.have.jsonBody();",
          "});",
          "",
          "// Store response for comparison",
          "const endpoint = pm.request.url.getPath();",
          "const isDev = pm.request.url.toString().includes('localhost') || pm.request.url.toString().includes('host.docker.internal');",
          "const environment = isDev ? 'development' : 'production';",
          "",
          "const responseData = {",
          "    endpoint: endpoint,",
          "    environment: environment,",
          "    status: pm.response.code,",
          "    responseTime: pm.response.responseTime,",
          "    size: pm.response.responseSize,",
          "    body: pm.response.json()",
          "};",
          "",
          "// Add to comparison results",
          "let results = JSON.parse(pm.collectionVariables.get('comparison_results') || '[]');",
          "results.push(responseData);",
          "pm.collectionVariables.set('comparison_results', JSON.stringify(results));"
        ]
      }
    }
  ],
  "item": [
    {
      "name": "System Endpoints",
      "item": [
        {
          "name": "Health Check - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/health",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "health"
              ]
            }
          }
        },
        {
          "name": "Health Check - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/health",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "health"
              ]
            }
          }
        },
        {
          "name": "Version - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/version",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "version"
              ]
            }
          }
        },
        {
          "name": "Version - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/version",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "version"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Stamps Endpoints",
      "item": [
        {
          "name": "List Stamps - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/stamps?limit=5&page=1",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                },
                {
                  "key": "page",
                  "value": "1"
                }
              ]
            }
          }
        },
        {
          "name": "List Stamps - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/stamps?limit=5&page=1",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                },
                {
                  "key": "page",
                  "value": "1"
                }
              ]
            }
          }
        },
        {
          "name": "Get Stamp by ID - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/stamps/{{test_stamp_id}}",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "{{test_stamp_id}}"
              ]
            }
          }
        },
        {
          "name": "Get Stamp by ID - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/stamps/{{test_stamp_id}}",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "{{test_stamp_id}}"
              ]
            }
          }
        },
        {
          "name": "Get Stamp Dispensers - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/stamps/{{test_stamp_id}}/dispensers",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "{{test_stamp_id}}",
                "dispensers"
              ]
            }
          }
        },
        {
          "name": "Get Stamp Dispensers - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/stamps/{{test_stamp_id}}/dispensers",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "{{test_stamp_id}}",
                "dispensers"
              ]
            }
          }
        },
        {
          "name": "Get Stamp Dispenses - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/stamps/{{test_stamp_id}}/dispenses",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "{{test_stamp_id}}",
                "dispenses"
              ]
            }
          }
        },
        {
          "name": "Get Stamp Dispenses - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/stamps/{{test_stamp_id}}/dispenses",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "{{test_stamp_id}}",
                "dispenses"
              ]
            }
          }
        },
        {
          "name": "Get Stamp Holders - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/stamps/{{test_stamp_id}}/holders",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "{{test_stamp_id}}",
                "holders"
              ]
            }
          }
        },
        {
          "name": "Get Stamp Holders - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/stamps/{{test_stamp_id}}/holders",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "{{test_stamp_id}}",
                "holders"
              ]
            }
          }
        },
        {
          "name": "Get Stamp Sends - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/stamps/{{test_stamp_id}}/sends",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "{{test_stamp_id}}",
                "sends"
              ]
            }
          }
        },
        {
          "name": "Get Stamp Sends - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/stamps/{{test_stamp_id}}/sends",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "{{test_stamp_id}}",
                "sends"
              ]
            }
          }
        },
        {
          "name": "Get Stamps by Block - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/stamps/block/{{test_block}}",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "block",
                "{{test_block}}"
              ]
            }
          }
        },
        {
          "name": "Get Stamps by Block - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/stamps/block/{{test_block}}",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "block",
                "{{test_block}}"
              ]
            }
          }
        },
        {
          "name": "Get Stamps by Ident - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/stamps/ident/STAMP",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "ident",
                "STAMP"
              ]
            }
          }
        },
        {
          "name": "Get Stamps by Ident - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/stamps/ident/STAMP",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "ident",
                "STAMP"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Balance Endpoints",
      "item": [
        {
          "name": "Get Address Balance - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/balance/{{test_address}}",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "balance",
                "{{test_address}}"
              ]
            }
          }
        },
        {
          "name": "Get Address Balance - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/balance/{{test_address}}",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "balance",
                "{{test_address}}"
              ]
            }
          }
        },
        {
          "name": "Get Stamps Balance - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/stamps/balance/{{test_address}}",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "balance",
                "{{test_address}}"
              ]
            }
          }
        },
        {
          "name": "Get Stamps Balance - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/stamps/balance/{{test_address}}",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "balance",
                "{{test_address}}"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Block Endpoints",
      "item": [
        {
          "name": "Get Block Info - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/block/{{test_block}}",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "block",
                "{{test_block}}"
              ]
            }
          }
        },
        {
          "name": "Get Block Info - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/block/{{test_block}}",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "block",
                "{{test_block}}"
              ]
            }
          }
        },
        {
          "name": "Get Block Count - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/block/block_count/10",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "block",
                "block_count",
                "10"
              ]
            }
          }
        },
        {
          "name": "Get Block Count - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/block/block_count/10",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "block",
                "block_count",
                "10"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Collections Endpoints",
      "item": [
        {
          "name": "Get Collections - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/collections",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "collections"
              ]
            }
          }
        },
        {
          "name": "Get Collections - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/collections",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "collections"
              ]
            }
          }
        },
        {
          "name": "Get Collections by Creator - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/collections/creator/{{test_address}}",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "collections",
                "creator",
                "{{test_address}}"
              ]
            }
          }
        },
        {
          "name": "Get Collections by Creator - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/collections/creator/{{test_address}}",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "collections",
                "creator",
                "{{test_address}}"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Cursed Stamps Endpoints",
      "item": [
        {
          "name": "Get Cursed List - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/cursed?limit=5",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "cursed"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          }
        },
        {
          "name": "Get Cursed List - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/cursed?limit=5",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "cursed"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          }
        },
        {
          "name": "Get Cursed by ID - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/cursed/{{test_cursed_id}}",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "cursed",
                "{{test_cursed_id}}"
              ]
            }
          }
        },
        {
          "name": "Get Cursed by ID - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/cursed/{{test_cursed_id}}",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "cursed",
                "{{test_cursed_id}}"
              ]
            }
          }
        },
        {
          "name": "Get Cursed by Block - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/cursed/block/{{test_block}}",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "cursed",
                "block",
                "{{test_block}}"
              ]
            }
          }
        },
        {
          "name": "Get Cursed by Block - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/cursed/block/{{test_block}}",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "cursed",
                "block",
                "{{test_block}}"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "SRC-20 Endpoints",
      "item": [
        {
          "name": "List SRC20 - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/src20?limit=5",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          }
        },
        {
          "name": "List SRC20 - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/src20?limit=5",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          }
        },
        {
          "name": "Get SRC20 Ticks - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/src20/tick",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "tick"
              ]
            }
          }
        },
        {
          "name": "Get SRC20 Ticks - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/src20/tick",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "tick"
              ]
            }
          }
        },
        {
          "name": "Get SRC20 by Tick - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/src20/tick/{{test_src20_tick}}",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "tick",
                "{{test_src20_tick}}"
              ]
            }
          }
        },
        {
          "name": "Get SRC20 by Tick - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/src20/tick/{{test_src20_tick}}",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "tick",
                "{{test_src20_tick}}"
              ]
            }
          }
        },
        {
          "name": "Get SRC20 Deploy Info - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/src20/tick/{{test_src20_tick}}/deploy",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "tick",
                "{{test_src20_tick}}",
                "deploy"
              ]
            }
          }
        },
        {
          "name": "Get SRC20 Deploy Info - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/src20/tick/{{test_src20_tick}}/deploy",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "tick",
                "{{test_src20_tick}}",
                "deploy"
              ]
            }
          }
        },
        {
          "name": "Get SRC20 Balance - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/src20/balance/{{test_address}}",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "balance",
                "{{test_address}}"
              ]
            }
          }
        },
        {
          "name": "Get SRC20 Balance - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/src20/balance/{{test_address}}",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "balance",
                "{{test_address}}"
              ]
            }
          }
        },
        {
          "name": "Get SRC20 Balance by Tick - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/src20/balance/{{test_address}}/{{test_src20_tick}}",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "balance",
                "{{test_address}}",
                "{{test_src20_tick}}"
              ]
            }
          }
        },
        {
          "name": "Get SRC20 Balance by Tick - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/src20/balance/{{test_address}}/{{test_src20_tick}}",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "balance",
                "{{test_address}}",
                "{{test_src20_tick}}"
              ]
            }
          }
        },
        {
          "name": "Get SRC20 by Block - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/src20/block/{{test_block}}",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "block",
                "{{test_block}}"
              ]
            }
          }
        },
        {
          "name": "Get SRC20 by Block - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/src20/block/{{test_block}}",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "block",
                "{{test_block}}"
              ]
            }
          }
        },
        {
          "name": "Get SRC20 TX - Dev",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/src20/tx/{{test_tx_hash}}",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "tx",
                "{{test_tx_hash}}"
              ]
            }
          }
        },
        {
          "name": "Get SRC20 TX - Prod",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/src20/tx/{{test_tx_hash}}",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "tx",
                "{{test_tx_hash}}"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Error Scenarios",
      "item": [
        {
          "name": "Invalid Stamp ID - Dev",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Returns 404 for invalid stamp', () => {",
                  "    pm.response.to.have.status(404);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/stamps/999999999",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps",
                "999999999"
              ]
            }
          }
        },
        {
          "name": "Invalid Address - Dev",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Returns 400 for invalid address', () => {",
                  "    pm.response.to.have.status(400);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/balance/invalid_address",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "balance",
                "invalid_address"
              ]
            }
          }
        },
        {
          "name": "Negative Limit - Dev",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Handles negative limit gracefully', () => {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 400]);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/stamps?limit=-1",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "stamps"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "-1"
                }
              ]
            }
          }
        },
        {
          "name": "Invalid SRC20 Tick Length - Dev",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Returns 400 for tick > 5 chars', () => {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error message mentions tick length', () => {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.error || jsonData.message).to.match(/tick|length|5/i);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/src20/tick/{{test_src20_tick_invalid}}",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "tick",
                "{{test_src20_tick_invalid}}"
              ]
            }
          }
        },
        {
          "name": "Invalid SRC20 Tick Length - Prod",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Returns 400 for tick > 5 chars', () => {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error message mentions tick length', () => {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.error || jsonData.message).to.match(/tick|length|5/i);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{prod_base_url}}/api/v2/src20/tick/{{test_src20_tick_invalid}}",
              "host": [
                "{{prod_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "src20",
                "tick",
                "{{test_src20_tick_invalid}}"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Comparison Report",
      "item": [
        {
          "name": "Generate Final Report",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Generate comparison report",
                  "const results = JSON.parse(pm.collectionVariables.get('comparison_results') || '[]');",
                  "",
                  "// Group results by endpoint",
                  "const grouped = {};",
                  "results.forEach(r => {",
                  "    if (!grouped[r.endpoint]) {",
                  "        grouped[r.endpoint] = {};",
                  "    }",
                  "    grouped[r.endpoint][r.environment] = r;",
                  "});",
                  "",
                  "console.log('\\n' + '='.repeat(80));",
                  "console.log('ðŸ” COMPREHENSIVE API REGRESSION REPORT');",
                  "console.log('='.repeat(80));",
                  "console.log('Session ID:', pm.collectionVariables.get('test_session_id'));",
                  "console.log('Generated:', new Date().toISOString());",
                  "console.log('Total Requests:', results.length);",
                  "",
                  "let differences = 0;",
                  "let matches = 0;",
                  "",
                  "Object.keys(grouped).forEach(endpoint => {",
                  "    const dev = grouped[endpoint].development;",
                  "    const prod = grouped[endpoint].production;",
                  "    ",
                  "    if (dev && prod) {",
                  "        console.log(`\\n${endpoint}`);",
                  "        console.log('-'.repeat(50));",
                  "        ",
                  "        // Compare status codes",
                  "        if (dev.status !== prod.status) {",
                  "            console.log(`   âŒ Status Code Mismatch: Dev=${dev.status}, Prod=${prod.status}`);",
                  "            differences++;",
                  "        } else {",
                  "            console.log(`   âœ… Status Code Match: ${dev.status}`);",
                  "            matches++;",
                  "        }",
                  "        ",
                  "        // Compare response times",
                  "        const timeDiff = Math.abs(dev.responseTime - prod.responseTime);",
                  "        if (timeDiff > 1000) {",
                  "            console.log(`   âš ï¸  Performance Gap: ${timeDiff}ms difference`);",
                  "        }",
                  "        ",
                  "        // Compare response structure (shallow)",
                  "        const devKeys = Object.keys(dev.body || {}).sort();",
                  "        const prodKeys = Object.keys(prod.body || {}).sort();",
                  "        if (JSON.stringify(devKeys) !== JSON.stringify(prodKeys)) {",
                  "            console.log(`   âš ï¸  Schema Difference: Different response keys`);",
                  "            differences++;",
                  "        }",
                  "    }",
                  "});",
                  "",
                  "console.log('\\n' + '='.repeat(80));",
                  "console.log('ðŸ“Š SUMMARY');",
                  "console.log('='.repeat(80));",
                  "console.log('Endpoints Tested:', Object.keys(grouped).length);",
                  "console.log('Matching Responses:', matches);",
                  "console.log('Differences Found:', differences);",
                  "console.log('Success Rate:', ((matches / (matches + differences)) * 100).toFixed(1) + '%');",
                  "console.log('\\n' + '='.repeat(80));",
                  "",
                  "// Final assertion",
                  "pm.test(`Regression test completed: ${differences} differences found`, () => {",
                  "    pm.expect(differences).to.be.below(5); // Allow up to 5 differences",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{dev_base_url}}/api/v2/health",
              "host": [
                "{{dev_base_url}}"
              ],
              "path": [
                "api",
                "v2",
                "health"
              ]
            }
          }
        }
      ]
    }
  ]
}