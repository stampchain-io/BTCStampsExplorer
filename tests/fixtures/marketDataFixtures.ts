// Market Data Test Fixtures
// These fixtures provide consistent test data for unit tests
// All timestamps are relative to ensure tests don't break over time

export const marketDataFixtures = {
  stampMarketData: {
    validStamp: {
      cpid: "A1234567890123456789",
      floor_price_btc: "0.001",
      floor_price_usd: "50",
      avg_price_btc: "0.0015",
      avg_price_usd: "75",
      median_price_btc: "0.0012",
      median_price_usd: "60",
      holder_count: 10,
      min_price_btc: "0.0008",
      max_price_btc: "0.002",
      total_volume_btc: "1.5",
      volume_stampscan: "0.5",
      volume_openstamp: "0.5",
      volume_others: "0.5",
      price_change_24h: "5.5",
      price_change_7d: "12.3",
      price_change_30d: "-2.1",
      distribution_score: "85",
      price_quality_score: "9",
      exchange_sources: "stampscan,openstamp",
      last_sale_price_btc: "0.0011",
      last_sale_timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000), // 2 hours ago
      last_updated: new Date(Date.now() - 10 * 60 * 1000), // 10 minutes ago
    },
    stampWithNulls: {
      cpid: "B9876543210987654321",
      floor_price_btc: null,
      floor_price_usd: null,
      avg_price_btc: null,
      avg_price_usd: null,
      median_price_btc: null,
      median_price_usd: null,
      holder_count: null,
      min_price_btc: null,
      max_price_btc: null,
      total_volume_btc: null,
      volume_stampscan: null,
      volume_openstamp: null,
      volume_others: null,
      price_change_24h: null,
      price_change_7d: null,
      price_change_30d: null,
      distribution_score: null,
      price_quality_score: null,
      exchange_sources: null,
      last_sale_price_btc: null,
      last_sale_timestamp: null,
      last_updated: new Date(),
    },
    multipleStamps: [
      {
        cpid: "A1234567890123456789",
        stamp: 1000,
        stamp_base64: "data:image/png;base64,iVBORw0KGgoAAAANS...",
        stamp_url: "https://example.com/stamp1.png",
        stamp_mimetype: "image/png",
        tx_hash: "abc123...",
        creator: "bc1creator1...",
        supply: 100,
        divisible: false,
        locked: true,
        floor_price_btc: "0.001",
        holder_count: 10,
        volume_stampscan: "0.5",
        volume_openstamp: "0.5",
        last_updated: new Date(Date.now() - 10 * 60 * 1000),
      },
      {
        cpid: "B9876543210987654321",
        stamp: 2000,
        stamp_base64: "data:image/png;base64,iVBORw0KGgoAAAANS...",
        stamp_url: "https://example.com/stamp2.png",
        stamp_mimetype: "image/png",
        tx_hash: "def456...",
        creator: "bc1creator2...",
        supply: 1,
        divisible: false,
        locked: true,
        floor_price_btc: "0.01",
        holder_count: 1,
        volume_stampscan: "0.01",
        volume_openstamp: "0",
        last_updated: new Date(Date.now() - 30 * 60 * 1000),
      },
    ],
  },

  src20MarketData: {
    validToken: {
      tick: "PEPE",
      tick_hash: "pepehash123",
      floor_price_btc: "0.00001",
      floor_price_usd: "0.5",
      market_cap_btc: "100",
      market_cap_usd: "5000000",
      volume_24h_btc: "10",
      volume_24h_usd: "500000",
      volume_7d_btc: "50",
      volume_30d_btc: "200",
      price_change_24h: "5.5",
      price_change_7d: "15.2",
      price_change_30d: "-3.1",
      holder_count: 1000,
      exchange_sources: "stampscan,openstamp",
      last_updated: new Date(Date.now() - 5 * 60 * 1000),
    },
    multipleTokens: [
      {
        tick: "PEPE",
        tick_hash: "pepehash123",
        floor_price_btc: "0.00001",
        market_cap_btc: "100",
        volume_24h_btc: "10",
        price_change_24h: "5.5",
        holder_count: 1000,
        exchange_sources: "stampscan,openstamp",
        last_updated: new Date(),
      },
      {
        tick: "WOJAK",
        tick_hash: "wojakhash456",
        floor_price_btc: "0.000005",
        market_cap_btc: "50",
        volume_24h_btc: "5",
        price_change_24h: "-2.1",
        holder_count: 500,
        exchange_sources: "stampscan",
        last_updated: new Date(),
      },
    ],
  },

  collectionMarketData: {
    validCollection: {
      collection_id: "rare-pepes",
      min_floor_price_btc: "0.001",
      max_floor_price_btc: "0.1",
      avg_floor_price_btc: "0.01",
      median_floor_price_btc: "0.008",
      total_volume_24h_btc: "5.5",
      stamps_with_prices_count: 50,
      min_holder_count: 1,
      max_holder_count: 100,
      avg_holder_count: "25.5",
      median_holder_count: "20",
      total_unique_holders: 500,
      avg_distribution_score: "75.5",
      total_stamps_count: 100,
      last_updated: new Date(),
    },
  },

  holderData: {
    validHolders: [
      {
        address: "bc1address1",
        quantity: "100",
        percentage: "50",
        rank_position: 1,
        is_creator: false,
        first_acquired: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000), // 30 days ago
        last_acquired: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000), // 1 day ago
      },
      {
        address: "bc1address2",
        quantity: "60",
        percentage: "30",
        rank_position: 2,
        is_creator: false,
        first_acquired: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000),
        last_acquired: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),
      },
      {
        address: "bc1address3",
        quantity: "40",
        percentage: "20",
        rank_position: 3,
        is_creator: true,
        first_acquired: new Date(Date.now() - 60 * 24 * 60 * 60 * 1000),
        last_acquired: new Date(Date.now() - 60 * 24 * 60 * 60 * 1000),
      },
    ],
  },

  // Mock database connection for testing
  mockDatabaseManager: {
    getInstance: () => ({
      executeQuery: (_query: string, _params?: any[]) => {
        return { rows: [], rowCount: 0 };
      },
    }),
  },
};
